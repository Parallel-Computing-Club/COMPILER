<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title> </title>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link rel="stylesheet" href={{ url_for('static',filename='style.css' ) }}>
    <script src="https://pagecdn.io/lib/ace/1.4.5/ace.js" integrity="sha256-5Xkhn3k/1rbXB+Q/DX/2RuAtaB4dRRyQvMs83prFjpM=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
</head>

<body>
    <nav class="navbar navbar-light navbar-expand-lg fixed-top bg-white clean-navbar">
        <div class="container"><a class="navbar-brand logo" href="#">{{ status }}</a><button data-bs-toggle="collapse"
                class="navbar-toggler" data-bs-target="#navcol-1"><span class="visually-hidden">Toggle
                    navigation</span><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navcol-1">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="features.html">Code</a></li>
                    <li class="nav-item"><a class="nav-link" href="pricing.html">API</a></li>
                    <li class="nav-item"><a class="nav-link" href="about-us.html">About Us</a></li>
                    <li class="nav-item"><a class="nav-link" href="contact-us.html">Contact Us</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <main class="head page landing-page">
        <div class="container" style="margin-top: 20px;">
            <div class="row">
                <div class="col">
                    <h1 style="text-align: center;">Run your Code!</h1>
                </div>
            </div>
            <form action="/run_code" method="POST">
                <div class="row">
                    <div class="col-7 text-center">
                        <div class="row">
                            <div class="col">
                                <div class="row">
                                    <div class="col">
                                        <div class="row">
                                            <div class="col"><strong>Code</strong></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div id="editor" onchange="putCode()" >{{ code }}</div>

                                <textarea name="code" id="code" style="display: none;"></textarea>
                                </div>
                        </div>
                    </div>
                    <div class="col" style="text-align: center;">
                        <div class="row">
                            <div class="col">
                                <label>Type</label>
                                <select name="type">
                                    <option value="serial">Serial</option>
                                    <option value="parellel">Parellel</option>
                                    <option value="api">API</option>
                                </select>
                            </div>
                            <div class="col">
                                <label>Language</label>
                                <select name="lang" id="lang">
                                    <option value="cpp">C++</option>
                                    <option value="py">Python</option>
                                    
                                </select>
                            </div>
                            <input type="hidden" name="user_id" value="101" />
                        </div>
                        <div class="row">
                            <div class="col"><strong>Input</strong></div>
                        </div>
                        <div class="row">
                            <div class="col"><textarea id="ip" name="input" class="form-control-lg"
                                    style="width: 320px;height: 240px;">{{input_data}}</textarea></div>
                        </div>
                        <div class="row">
                            <div class="col"><strong>Output</strong></div>
                        </div>
                        <div class="row">
                            <div class="col"><textarea id="op" class="form-control-lg"
                                    style="width: 320px;height: 175px;">{{output}}</textarea></div>
                        </div>
                    </div>
                    
                </div>
                <input type="hidden" value="1" name="time_limit"/>
                <input type="hidden" value="101" name="user_id"/> 
                <input type="hidden" value="cpp" name="lang"/> 
                <div class="row">
                    <div class="col text-center"><button onclick="putCode()" class="btn btn-dark btn-lg" type="submit"
                            style="--bs-dark: #212529;--bs-dark-rgb: 33,37,41;">Run</button></div>
                </div>
            </form>
        </div>
    </main>
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.01/ace.js" type="text/javascript" charset="utf-8"></script>
        <script>
          var editor = ace.edit("editor");
          editor.setTheme("ace/theme/monokai_light");
          editor.getSession().setMode("ace/mode/c_cpp");
          document.getElementById("editor").style.height = "400px";
          document.getElementById("editor").style.width = "720px";

          function putCode(){
              $("#code").val(editor.getValue());
              console.log($("#code").val())
          }
        </script>
    </body>

</html>